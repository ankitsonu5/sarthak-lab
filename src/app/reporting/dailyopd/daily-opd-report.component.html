<div class="report-container">
  <!-- Page Title -->
  <div class="page-title">
    <h2>Daily OPD Report</h2>
  </div>

  <!-- Search Section -->
  <div class="search-section">
    <div class="date-inputs">
      <div class="date-field">
        <input type="date" [(ngModel)]="selectedDate" name="selectedDate" id="selectedDate" placeholder="dd/mm/yyyy">
      </div>
    </div>
    <div class="action-buttons">
      <button class="download-btn" (click)="downloadReport()">Download</button>
      <button class="search-btn" (click)="generateReport()">Search</button>
      <button class="print-btn" (click)="printReport()">Print</button>
    </div>
  </div>

  <!-- Report Content -->
  <div class="report-content" *ngIf="reportData">
    <div class="report-header">
      <div class="logo-container">
        <img src="assets/images/myupgov.png" alt="UP Government Logo" class="logo" loading="eager">
      </div>
      <div class="header-text">
        <h1>राजकीय आयुर्वेद महाविद्यालय एवं चिकित्सालय</h1>
        <h2>चौकाघाट, वाराणसी</h2>
        <h3>Daily OPD Report : {{getFormattedDate()}}</h3>
      </div>
    </div>



    <!-- Department-wise Report Table -->
    <div class="report-table">
      <table>
        <thead>
          <tr>
            <th>Department</th>
            <th>New Patient</th>
            <th>Total</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let row of displayRows" [hidden]="row.isTotal">
            <td>{{row.name}}</td>
            <td>{{row.newPatients}}</td>
            <td>{{row.total}}</td>
          </tr>
        </tbody>
        <tfoot>
          <tr class="total-row">
            <td>Total</td>
            <td>{{reportData.newPatients || 0}}</td>
            <td>{{reportData.totalPatients || 0}}</td>
          </tr>
        </tfoot>
      </table>
    </div>

      <!-- Signature Footer -->
      <div class="signature-footer">
        <div class="sig-left">
          <div class="line"></div>
          <div class="label">Department Signature</div>

          <div class="small">Designation ______________</div>
        </div>
        <div class="sig-right">
          <div class="line"></div>
          <div class="label">Senior Medical Officer</div>
        </div>
      </div>
  </div>

  <!-- Loading State -->
  <div class="loading-container" *ngIf="isLoading">
    <p>Loading report data...</p>
  </div>

  <!-- No Data State -->
  <div class="no-data-container" *ngIf="!reportData && !isLoading">
    <p>No report data available. Please select a date and click Search.</p>
  </div>
</div>
