@import url('https://fonts.googleapis.com/css2?family=Raleway:wght@400;500;600;700&display=swap');
.lab-setup-container{padding:16px;max-width:1400px;margin:0 auto}
.lab-setup-container h1{font-size:28px;font-weight:700;color:#111827;margin-bottom:8px}

/* Use Raleway for preview headings */
.preview .title { font-family: 'Raleway', Arial, sans-serif; letter-spacing: 0.2px; }

/* Form Section */
.form-section{
  background:#fff;
  border-radius:12px;
  padding:24px;
  box-shadow:0 2px 8px rgba(0,0,0,0.06);
  margin-top:20px;
}
.form-section h2{
  font-size:20px;
  font-weight:700;
  color:#111827;
  margin-bottom:8px;
}

.muted{color:#6b7280;margin-bottom:12px}
.grid{display:grid;grid-template-columns:minmax(520px,1.1fr) 1fr;gap:20px}
.card{background:#fff;border-radius:10px;padding:16px 16px 12px;box-shadow:0 1px 6px rgba(0,0,0,.08)}
.card h2{font-size:16px;margin:14px 0 8px;color:#111827;border-bottom:1px solid #eef2f7;padding-bottom:6px}
.row{display:flex;flex-direction:column;align-items:stretch;gap:6px;margin:10px 0}
.row>label{color:#374151;font-weight:500}
.row.two{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.row.two>div{display:flex;flex-direction:column;gap:6px}
.row.three{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}
.card input,.card select,.card textarea{width:100%;border:1px solid #d1d5db;border-radius:6px;padding:8px 10px;font-size:13px;color:#111827}
.card input:focus,.card select:focus,.card textarea:focus{border-color:#2563eb;box-shadow:0 0 0 3px rgba(37,99,235,.12);outline:none}
.actions{position:sticky;bottom:-12px;padding-top:12px;margin-top:18px;border-top:1px solid #eef2f7;background:linear-gradient(to bottom,rgba(255,255,255,.3),#fff 60%)}
.btn.primary{background:#2563eb;color:#fff;border:none;padding:10px 16px;border-radius:8px;font-weight:600}
/* Preview Card Styling */
.card.preview {
  overflow: hidden;
  max-width: 100%;
}
.preview .report {
  border: 1px solid #e5e7eb;
  border-radius: 8px;
  padding: 14px;
  background: #fafafa;
  overflow: hidden;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

/* Header layout for dual logo preview */
.preview .header {
  display: grid;
  grid-template-columns: 50px 1fr 50px;
  gap: 6px;
  align-items: start;
  text-align: center;
  border-bottom: 1px solid #e5e7eb;
  margin-bottom: 10px;
  padding-bottom: 10px;
}
.preview .header .header-mid {
  display: flex;
  flex-direction: column;
  align-items: center;
  overflow: hidden;
  min-width: 0;
}
.preview .left-logo {
  justify-self: start;
  max-width: 50px;
  height: auto;
  object-fit: contain;
}
.preview .right-logo {
  justify-self: end;
  max-width: 50px;
  height: auto;
  object-fit: contain;
}

.status {
  display: inline-block;
  margin-left: 12px;
  font-size: 12px;
  color: #16a34a;
}
.status.error {
  color: #dc2626;
}

.preview .logo {
  height: 40px;
  max-width: 50px;
  margin: 0 auto 4px auto;
  display: block;
  object-fit: contain;
}
.preview .title {
  font-size: 14px;
  font-weight: 700;
  line-height: 1.2;
  word-wrap: break-word;
  overflow-wrap: break-word;
  max-width: 100%;
}
.preview .addr,
.preview .contact,
.preview .header-note,
.preview .footer-note,
.preview .disclaimer {
  font-size: 10px;
  color: #4b5563;
  line-height: 1.3;
  word-wrap: break-word;
  overflow-wrap: break-word;
  max-width: 100%;
}
.preview .body {
  height: 120px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #6b7280;
  background: #f9fafb;
  border: 1px dashed #d1d5db;
  border-radius: 6px;
  font-size: 11px;
}
.preview .footer {
  border-top: 1px solid #e5e7eb;
  margin-top: 10px;
  padding-top: 10px;
  text-align: center;
}
.preview .sign {
  height: 32px;
  margin: 4px auto 0;
  display: block;
}

@media (max-width: 1100px) {
  .grid {
    grid-template-columns: 1fr;
  }
}

/* quick section nav */
.subnav{display:flex;gap:8px;flex-wrap:wrap;margin:10px 0 14px}
.subnav a{display:inline-block;padding:6px 10px;border:1px solid #e5e7eb;border-radius:999px;color:#374151;text-decoration:none;background:#fff;font-size:12px}
.subnav a:hover{background:#f3f4f6}

/* toggle switches */
.row.toggles{display:grid;grid-template-columns:repeat(3,minmax(160px,1fr));gap:10px}
.switch{display:inline-flex;align-items:center;gap:10px;cursor:pointer;user-select:none}
.switch input{display:none}
.switch .slider{position:relative;display:inline-block;width:42px;height:22px;background:#d1d5db;border-radius:999px;transition:all .2s ease}
.switch .slider:after{content:"";position:absolute;top:3px;left:3px;width:16px;height:16px;background:#fff;border-radius:50%;box-shadow:0 1px 2px rgba(0,0,0,.2);transition:all .2s ease}
.switch input:checked + .slider{background:#2563eb}
.switch input:checked + .slider:after{transform:translateX(20px)}
.switch .switch-text{font-size:12px;color:#374151}

/* Report Template Selector */
.section-description{font-size:13px;color:#6b7280;margin:-4px 0 20px;line-height:1.5}
.template-selector{display:grid;grid-template-columns:repeat(3,1fr);gap:20px;margin:20px 0}
.template-card{
  position:relative;
  display:flex;
  flex-direction:column;
  border:3px solid #e5e7eb;
  border-radius:16px;
  padding:20px;
  cursor:pointer;
  transition:all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  background:#fff;
  overflow:hidden;
}
.template-card::before{
  content:'';
  position:absolute;
  top:0;
  left:0;
  right:0;
  height:4px;
  background:linear-gradient(90deg,#3b82f6,#8b5cf6);
  transform:scaleX(0);
  transition:transform 0.4s ease;
}
.template-card:hover{
  border-color:#3b82f6;
  box-shadow:0 8px 24px rgba(59,130,246,0.2);
  transform:translateY(-4px);
}
.template-card:hover::before{transform:scaleX(1)}
.template-card.selected{
  border-color:#2563eb;
  background:linear-gradient(to bottom,#eff6ff 0%,#ffffff 100%);
  box-shadow:0 12px 32px rgba(37,99,235,0.25);
  transform:translateY(-2px);
}
.template-card.selected::before{transform:scaleX(1);background:linear-gradient(90deg,#2563eb,#7c3aed)}
.template-card input[type="radio"]{position:absolute;opacity:0;pointer-events:none}

.template-preview{
  border:2px solid #e5e7eb;
  border-radius:12px;
  padding:16px;
  background:#fafafa;
  margin-bottom:16px;
  min-height:160px;
  transition:all 0.3s ease;
  position:relative;
  overflow:hidden;
}
.template-card:hover .template-preview{
  border-color:#3b82f6;
  background:#fff;
}
.template-card.selected .template-preview{
  background:#fff;
  border-color:#3b82f6;
  box-shadow:0 4px 12px rgba(59,130,246,0.1);
}
.template-header{
  display:flex;
  align-items:center;
  gap:12px;
  padding-bottom:10px;
  border-bottom:2px solid #e5e7eb;
  margin-bottom:10px;
}
.template-header.modern{border-bottom:2px solid #3b82f6}
.template-header.professional{border-bottom:3px double #1e40af}
.template-logo{
  font-size:36px;
  width:56px;
  height:56px;
  display:flex;
  align-items:center;
  justify-content:center;
  background:#fff;
  border-radius:12px;
  border:2px solid #e5e7eb;
  transition:all 0.3s ease;
}
.template-card:hover .template-logo{
  transform:scale(1.1);
  box-shadow:0 4px 12px rgba(0,0,0,0.1);
}
.template-info{flex:1}
.template-title{
  font-size:14px;
  font-weight:700;
  color:#111827;
  margin-bottom:4px;
  letter-spacing:0.3px;
}
.template-subtitle{
  font-size:11px;
  color:#6b7280;
  font-weight:500;
}
.template-body{display:flex;flex-direction:column;gap:8px}
.template-line{
  height:10px;
  background:#e5e7eb;
  border-radius:5px;
  transition:all 0.3s ease;
}
.template-card:hover .template-line{background:#d1d5db}
.template-line.short{width:65%}

.template-name{
  font-size:15px;
  font-weight:700;
  color:#111827;
  margin-bottom:6px;
  display:flex;
  align-items:center;
  gap:8px;
  letter-spacing:0.3px;
}
.template-name i{
  color:#3b82f6;
  font-size:18px;
  transition:all 0.3s ease;
}
.template-card:hover .template-name i{
  transform:scale(1.2);
  color:#2563eb;
}
.template-description{
  font-size:12px;
  color:#6b7280;
  line-height:1.6;
  font-weight:400;
}

.template-card.selected .template-name{color:#2563eb}
.template-card.selected .template-name i{color:#2563eb}

/* Classic Template Preview Styling */
.classic-preview .template-header{border-bottom-color:#374151}
.classic-preview .template-logo{
  background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);
  color:#fff;
  border:none;
  box-shadow:0 4px 12px rgba(102,126,234,0.3);
}

/* Modern Template Preview Styling */
.modern-preview .template-header{border-bottom-color:#3b82f6}
.modern-preview .template-logo{
  background:linear-gradient(135deg,#3b82f6 0%,#1e40af 100%);
  color:#fff;
  border:none;
  box-shadow:0 4px 12px rgba(59,130,246,0.3);
}
.modern-preview .template-line{
  background:linear-gradient(90deg,#3b82f6 0%,#e5e7eb 100%);
}

/* Professional Template Preview Styling */
.professional-preview .template-header{border-bottom-color:#1e40af}
.professional-preview .template-logo{
  background:linear-gradient(135deg,#1e40af 0%,#0f172a 100%);
  color:#fff;
  border:none;
  box-shadow:0 4px 12px rgba(30,64,175,0.3);
}
.professional-preview{border:2px solid #1e40af}

/* Action Row for Report Template Page */
.action-row{
  display:flex;
  align-items:center;
  gap:16px;
  margin-top:32px;
  padding-top:24px;
  border-top:2px solid #e5e7eb;
}
.btn-primary{
  background:linear-gradient(135deg,#2563eb 0%,#1e40af 100%);
  color:#fff;
  border:none;
  padding:12px 28px;
  border-radius:10px;
  font-weight:600;
  font-size:14px;
  cursor:pointer;
  transition:all 0.3s ease;
  box-shadow:0 4px 12px rgba(37,99,235,0.3);
  display:flex;
  align-items:center;
  gap:8px;
}
.btn-primary:hover:not(:disabled){
  background:linear-gradient(135deg,#1e40af 0%,#1e3a8a 100%);
  box-shadow:0 6px 16px rgba(37,99,235,0.4);
  transform:translateY(-2px);
}
.btn-primary:disabled{
  opacity:0.6;
  cursor:not-allowed;
}
.status-message{
  display:flex;
  align-items:center;
  gap:8px;
  padding:10px 16px;
  border-radius:8px;
  font-size:13px;
  font-weight:500;
  animation:slideIn 0.3s ease;
}
.status-message.success{
  background:#d1fae5;
  color:#065f46;
  border:1px solid #6ee7b7;
}
.status-message.error{
  background:#fee2e2;
  color:#991b1b;
  border:1px solid #fca5a5;
}
@keyframes slideIn{
  from{opacity:0;transform:translateX(-10px)}
  to{opacity:1;transform:translateX(0)}
}

/* Self-Registration Section - Below Form */
.self-reg-section {
  margin-top: 24px;
  padding-top: 20px;
  border-top: 2px solid #e5e7eb;
}
.self-reg-section h2 {
  font-size: 16px;
  font-weight: 700;
  color: #111827;
  margin: 0 0 12px 0;
  padding-bottom: 8px;
  border-bottom: 1px solid #eef2f7;
}
.self-reg-content {
  display: flex;
  align-items: center;
  gap: 20px;
  background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
  border: 1px solid #bae6fd;
  border-radius: 12px;
  padding: 16px 20px;
}
.self-reg-info {
  flex: 1;
}
.self-reg-info .muted {
  font-size: 13px;
  color: #475569;
  margin-bottom: 8px;
}
.self-reg-link {
  font-family: 'Consolas', 'Monaco', monospace;
  font-size: 12px;
  color: #0369a1;
  word-break: break-all;
  background: #fff;
  padding: 10px 12px;
  border-radius: 8px;
  border: 1px solid #bae6fd;
  margin-bottom: 12px;
}
.self-reg-buttons {
  display: flex;
  gap: 10px;
}
.self-reg-buttons .btn {
  background: #0284c7;
  color: #fff;
  border: none;
  padding: 8px 16px;
  border-radius: 6px;
  font-size: 13px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}
.self-reg-buttons .btn:hover {
  background: #0369a1;
  transform: translateY(-1px);
}
.self-reg-qr {
  background: #fff;
  padding: 10px;
  border-radius: 10px;
  border: 2px solid #0284c7;
  box-shadow: 0 4px 12px rgba(2, 132, 199, 0.15);
}
.self-reg-qr img {
  display: block;
  border-radius: 4px;
}

/* =====================================================
   CUSTOM ROLE MANAGEMENT SECTION
   ===================================================== */
.role-management-section {
  margin-top: 24px;
  padding-top: 20px;
  border-top: 2px solid #e5e7eb;
}
.role-management-section h2 {
  font-size: 16px;
  font-weight: 700;
  color: #111827;
  margin: 0 0 8px 0;
  padding-bottom: 8px;
  border-bottom: 1px solid #eef2f7;
}
.role-management-section h3 {
  font-size: 14px;
  font-weight: 600;
  color: #374151;
  margin: 16px 0 10px 0;
}

/* Role Messages */
.role-message {
  padding: 10px 14px;
  border-radius: 8px;
  font-size: 13px;
  font-weight: 500;
  margin-bottom: 12px;
}
.role-message.success {
  background: #d1fae5;
  color: #065f46;
  border: 1px solid #6ee7b7;
}
.role-message.error {
  background: #fee2e2;
  color: #991b1b;
  border: 1px solid #fca5a5;
}

/* Add Role Form */
.add-role-form {
  background: linear-gradient(135deg, #f0fdf4 0%, #ecfdf5 100%);
  border: 1px solid #86efac;
  border-radius: 12px;
  padding: 16px;
  margin-bottom: 16px;
}
.add-role-form .row {
  margin: 8px 0;
}
.add-role-form input {
  width: 100%;
  border: 1px solid #d1d5db;
  border-radius: 6px;
  padding: 8px 10px;
  font-size: 13px;
  color: #111827;
}
.add-role-form input:focus {
  border-color: #22c55e;
  box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.12);
  outline: none;
}
.add-role-form .btn.primary {
  background: #16a34a;
  margin-top: 12px;
}
.add-role-form .btn.primary:hover:not(:disabled) {
  background: #15803d;
}
.add-role-form .btn.primary:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

/* Roles List */
.roles-list {
  background: #fff;
  border: 1px solid #e5e7eb;
  border-radius: 10px;
  padding: 12px;
}
.role-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px 12px;
  background: #f9fafb;
  border: 1px solid #e5e7eb;
  border-radius: 8px;
  margin-bottom: 8px;
  transition: all 0.2s ease;
}
.role-item:last-child {
  margin-bottom: 0;
}
.role-item:hover {
  background: #f3f4f6;
  border-color: #d1d5db;
}
.role-info {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
}
.role-name {
  font-weight: 600;
  color: #111827;
  font-size: 14px;
}
.role-label {
  color: #6b7280;
  font-size: 13px;
}
.role-desc {
  color: #9ca3af;
  font-size: 12px;
}

/* Delete Button */
.btn.danger {
  background: #dc2626;
  color: #fff;
  border: none;
  padding: 6px 12px;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}
.btn.danger:hover:not(:disabled) {
  background: #b91c1c;
}
.btn.danger:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}
.btn.small {
  padding: 5px 10px;
  font-size: 11px;
}

/* No Roles Message */
.no-roles {
  text-align: center;
  padding: 20px;
  background: #f9fafb;
  border: 1px dashed #d1d5db;
  border-radius: 8px;
}
.no-roles .muted {
  margin: 0;
  font-size: 13px;
}

/* Loading State */
.loading {
  text-align: center;
  padding: 20px;
  color: #6b7280;
  font-size: 13px;
}

@media (max-width: 900px){
  .row.toggles{grid-template-columns:1fr}
  .self-reg-content {
    flex-direction: column;
    text-align: center;
  }
  .self-reg-buttons {
    justify-content: center;
  }
  .role-item {
    flex-direction: column;
    align-items: flex-start;
    gap: 10px;
  }
  .role-item .btn.danger {
    align-self: flex-end;
  }
}
@media (max-width: 1200px){.template-selector{grid-template-columns:1fr}}
@media (min-width: 900px) and (max-width: 1200px){.template-selector{grid-template-columns:repeat(2,1fr)}}
