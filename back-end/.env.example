# ========================================
# Multi-Lab Pathology SaaS - Environment Configuration
# ========================================

# Server Configuration
# ========================================
PORT=3000
NODE_ENV=development

# PostgreSQL Database Configuration
# ========================================
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=pathology_saas
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_postgres_password_here

# Enable SSL for production (true/false)
POSTGRES_SSL=false

# Connection Pool Settings
POSTGRES_MAX_CONNECTIONS=20
POSTGRES_IDLE_TIMEOUT=30000
POSTGRES_CONNECTION_TIMEOUT=2000

# JWT Authentication
# ========================================
# IMPORTANT: Change this to a strong random string in production!
# Generate using: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-change-in-production-min-32-chars
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# MongoDB (Keep for backward compatibility during migration)
# ========================================
MONGODB_URI=mongodb://localhost:27017/Lab-E-commerce

# Frontend Configuration
# ========================================
FRONTEND_URL=http://localhost:4201
CORS_ORIGIN=http://localhost:4201

# Email Configuration (SMTP)
# ========================================
# For Gmail: Enable "Less secure app access" or use App Password
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_NAME=Pathology SaaS
SMTP_FROM_EMAIL=noreply@pathologysaas.com

# File Upload Configuration
# ========================================
MAX_FILE_SIZE=5242880
UPLOAD_DIR=./uploads
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/jpg,application/pdf

# AWS S3 (Optional - for production file storage)
# ========================================
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=ap-south-1
AWS_S3_BUCKET=pathology-saas-uploads

# Payment Gateway (Razorpay)
# ========================================
RAZORPAY_KEY_ID=your-razorpay-key-id
RAZORPAY_KEY_SECRET=your-razorpay-key-secret
RAZORPAY_WEBHOOK_SECRET=your-webhook-secret

# Payment Gateway (Stripe - Alternative)
# ========================================
STRIPE_SECRET_KEY=your-stripe-secret-key
STRIPE_PUBLISHABLE_KEY=your-stripe-publishable-key
STRIPE_WEBHOOK_SECRET=your-stripe-webhook-secret

# Logging Configuration
# ========================================
LOG_LEVEL=debug
LOG_FILE=./logs/app.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=7

# Rate Limiting
# ========================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Session Configuration
# ========================================
SESSION_SECRET=your-session-secret-key
SESSION_TIMEOUT=3600000

# Super Admin Configuration
# ========================================
SUPER_ADMIN_EMAIL=superadmin@pathologysaas.com
SUPER_ADMIN_PASSWORD=SuperAdmin@123

# Subscription Configuration
# ========================================
TRIAL_PERIOD_DAYS=14
TRIAL_MAX_PATIENTS=50
TRIAL_MAX_REPORTS=100
TRIAL_MAX_USERS=2

BASIC_PRICE_MONTHLY=2999
BASIC_PRICE_YEARLY=29990
BASIC_MAX_PATIENTS=5000
BASIC_MAX_REPORTS=1000
BASIC_MAX_USERS=5

PREMIUM_PRICE_MONTHLY=5999
PREMIUM_PRICE_YEARLY=59990

# Feature Flags
# ========================================
ENABLE_EMAIL_VERIFICATION=false
ENABLE_TWO_FACTOR_AUTH=false
ENABLE_AUDIT_LOGGING=true
ENABLE_ANALYTICS=true

# External Services
# ========================================
# SMS Gateway (for OTP)
SMS_GATEWAY_URL=https://api.msg91.com/api/v5/flow/
SMS_GATEWAY_API_KEY=your-msg91-api-key
SMS_GATEWAY_SENDER_ID=PATHLAB

# WhatsApp Business API (Optional)
WHATSAPP_API_URL=https://api.whatsapp.com/send
WHATSAPP_BUSINESS_NUMBER=919876543210

# Analytics (Google Analytics, Mixpanel, etc.)
GOOGLE_ANALYTICS_ID=UA-XXXXXXXXX-X
MIXPANEL_TOKEN=your-mixpanel-token

# Sentry (Error Tracking)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Redis (for caching and sessions)
# ========================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Backup Configuration
# ========================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=pathology-saas-backups

# Development/Debug Settings
# ========================================
DEBUG=true
VERBOSE_LOGGING=true
ENABLE_SWAGGER=true
ENABLE_GRAPHQL_PLAYGROUND=true

# ========================================
# IMPORTANT NOTES:
# ========================================
# 1. Copy this file to .env and fill in your actual values
# 2. NEVER commit .env file to version control
# 3. Change all secrets and passwords in production
# 4. Use strong random strings for JWT_SECRET and SESSION_SECRET
# 5. Enable SSL for PostgreSQL in production (POSTGRES_SSL=true)
# 6. Use environment-specific values for different deployments
# ========================================

